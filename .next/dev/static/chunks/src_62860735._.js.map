{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Jelly/src/lib/highcharts.ts"],"sourcesContent":["// @ts-nocheck — Highcharts ES module masters lack type declarations\n// Import both from es-modules path so they share the same Globals instance\nimport Highcharts from \"highcharts/es-modules/masters/highstock.src.js\";\nimport \"highcharts/es-modules/masters/highcharts-more.src.js\";\n\nHighcharts.setOptions({\n  chart: {\n    backgroundColor: \"transparent\",\n  },\n  title: { text: undefined },\n  credits: { enabled: false },\n  legend: { enabled: false },\n  xAxis: {\n    gridLineColor: \"rgba(255,255,255,0.06)\",\n    lineColor: \"rgba(255,255,255,0.12)\",\n    labels: { style: { color: \"#9ca3af\" } },\n  },\n  yAxis: {\n    gridLineColor: \"rgba(255,255,255,0.06)\",\n    labels: { style: { color: \"#9ca3af\" } },\n    title: { text: undefined },\n  },\n  tooltip: {\n    backgroundColor: \"rgba(17,24,39,0.92)\",\n    borderColor: \"rgba(255,255,255,0.12)\",\n    style: { color: \"#e5e7eb\" },\n  },\n  navigator: {\n    outlineColor: \"rgba(255,255,255,0.18)\",\n    maskFill: \"rgba(255,255,255,0.05)\",\n    series: { color: \"#6366f1\" },\n    xAxis: { labels: { style: { color: \"#9ca3af\" } } },\n  },\n  rangeSelector: {\n    buttonTheme: {\n      fill: \"rgba(255,255,255,0.06)\",\n      stroke: \"rgba(255,255,255,0.12)\",\n      style: { color: \"#9ca3af\" },\n      states: {\n        hover: { fill: \"rgba(255,255,255,0.12)\" },\n        select: { fill: \"rgba(99,102,241,0.3)\", style: { color: \"#e5e7eb\" } },\n      },\n    },\n    inputStyle: { color: \"#e5e7eb\", backgroundColor: \"rgba(255,255,255,0.06)\" },\n    labelStyle: { color: \"#9ca3af\" },\n  },\n  scrollbar: {\n    barBackgroundColor: \"rgba(255,255,255,0.12)\",\n    trackBackgroundColor: \"rgba(255,255,255,0.04)\",\n    buttonBackgroundColor: \"rgba(255,255,255,0.06)\",\n  },\n});\n\nexport default Highcharts;\n"],"names":[],"mappings":";;;;AAAA,oEAAoE;AACpE,2EAA2E;AAC3E;AACA;;;AAEA,wLAAU,CAAC,UAAU,CAAC;IACpB,OAAO;QACL,iBAAiB;IACnB;IACA,OAAO;QAAE,MAAM;IAAU;IACzB,SAAS;QAAE,SAAS;IAAM;IAC1B,QAAQ;QAAE,SAAS;IAAM;IACzB,OAAO;QACL,eAAe;QACf,WAAW;QACX,QAAQ;YAAE,OAAO;gBAAE,OAAO;YAAU;QAAE;IACxC;IACA,OAAO;QACL,eAAe;QACf,QAAQ;YAAE,OAAO;gBAAE,OAAO;YAAU;QAAE;QACtC,OAAO;YAAE,MAAM;QAAU;IAC3B;IACA,SAAS;QACP,iBAAiB;QACjB,aAAa;QACb,OAAO;YAAE,OAAO;QAAU;IAC5B;IACA,WAAW;QACT,cAAc;QACd,UAAU;QACV,QAAQ;YAAE,OAAO;QAAU;QAC3B,OAAO;YAAE,QAAQ;gBAAE,OAAO;oBAAE,OAAO;gBAAU;YAAE;QAAE;IACnD;IACA,eAAe;QACb,aAAa;YACX,MAAM;YACN,QAAQ;YACR,OAAO;gBAAE,OAAO;YAAU;YAC1B,QAAQ;gBACN,OAAO;oBAAE,MAAM;gBAAyB;gBACxC,QAAQ;oBAAE,MAAM;oBAAwB,OAAO;wBAAE,OAAO;oBAAU;gBAAE;YACtE;QACF;QACA,YAAY;YAAE,OAAO;YAAW,iBAAiB;QAAyB;QAC1E,YAAY;YAAE,OAAO;QAAU;IACjC;IACA,WAAW;QACT,oBAAoB;QACpB,sBAAsB;QACtB,uBAAuB;IACzB;AACF;uCAEe,wLAAU"}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Jelly/src/components/Toolbar.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\n\nexport function Toolbar({ children }: { children: React.ReactNode }) {\n  return (\n    <div className=\"flex gap-2 flex-wrap items-center mb-2.5\">{children}</div>\n  );\n}\n\nexport function Chip({ children }: { children: React.ReactNode }) {\n  return (\n    <span className=\"bg-[#0b1220] border border-gray-800 rounded-full px-2.5 py-1.5 text-xs text-gray-200\">\n      {children}\n    </span>\n  );\n}\n\nexport function Select({\n  value,\n  onChange,\n  children,\n}: {\n  value: string;\n  onChange: (v: string) => void;\n  children: React.ReactNode;\n}) {\n  return (\n    <select\n      value={value}\n      onChange={(e) => onChange(e.target.value)}\n      className=\"bg-[#0f172a] text-gray-200 border border-gray-800 rounded-[10px] px-2.5 py-2 text-xs outline-none\"\n    >\n      {children}\n    </select>\n  );\n}\n\nexport function Button({\n  onClick,\n  children,\n}: {\n  onClick: () => void;\n  children: React.ReactNode;\n}) {\n  return (\n    <button\n      onClick={onClick}\n      className=\"bg-[#0f172a] text-gray-200 border border-gray-800 rounded-[10px] px-2.5 py-2 text-xs cursor-pointer hover:brightness-110\"\n    >\n      {children}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;;AAIO,SAAS,QAAQ,EAAE,QAAQ,EAAiC;IACjE,qBACE,6LAAC;QAAI,WAAU;kBAA4C;;;;;;AAE/D;KAJgB;AAMT,SAAS,KAAK,EAAE,QAAQ,EAAiC;IAC9D,qBACE,6LAAC;QAAK,WAAU;kBACb;;;;;;AAGP;MANgB;AAQT,SAAS,OAAO,EACrB,KAAK,EACL,QAAQ,EACR,QAAQ,EAKT;IACC,qBACE,6LAAC;QACC,OAAO;QACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;QACxC,WAAU;kBAET;;;;;;AAGP;MAlBgB;AAoBT,SAAS,OAAO,EACrB,OAAO,EACP,QAAQ,EAIT;IACC,qBACE,6LAAC;QACC,SAAS;QACT,WAAU;kBAET;;;;;;AAGP;MAfgB"}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Jelly/src/components/ScenarioChart.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useRef, useMemo, useCallback } from \"react\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport Highcharts from \"@/lib/highcharts\";\nimport type { PricePoint, EventItem, Decision, Scenario } from \"@/lib/data\";\nimport { DAY, buildScenarioBands } from \"@/lib/data\";\nimport { Toolbar, Chip, Select, Button } from \"./Toolbar\";\n\ninterface Props {\n  price: PricePoint[];\n  events: EventItem[];\n  scenario: Scenario;\n  decisions: Decision[];\n  onScenarioChange: (v: Scenario) => void;\n  onAddDecision: () => void;\n}\n\nexport default function ScenarioChart({\n  price,\n  events,\n  scenario,\n  decisions,\n  onScenarioChange,\n  onAddDecision,\n}: Props) {\n  const chartRef = useRef<HighchartsReact.RefObject>(null);\n\n  const lastX = price[price.length - 1][0];\n\n  const { band } = useMemo(\n    () => buildScenarioBands(scenario, price),\n    [scenario, price]\n  );\n\n  const eventFlags = useMemo(\n    () => events.map((e) => ({ x: e.x, title: e.title, text: e.desc })),\n    [events]\n  );\n\n  const decisionFlags = useMemo(\n    () =>\n      decisions.map((d) => ({\n        x: d.x,\n        title: d.stance === \"BUY\" ? \"B\" : d.stance === \"SELL\" ? \"S\" : \"H\",\n        text: `<b>${d.title}</b><br/>${d.note}<br/><span style=\"opacity:.85\">by ${d.who} • ${d.stance}</span>`,\n      })),\n    [decisions]\n  );\n\n  const options: Highcharts.Options = useMemo(\n    () => ({\n      rangeSelector: { selected: 2 },\n      tooltip: { shared: true },\n      xAxis: {\n        plotLines: [\n          {\n            value: lastX,\n            width: 2,\n            color: \"rgba(255,255,255,0.35)\",\n            dashStyle: \"ShortDash\" as const,\n            label: {\n              text: \"AS-OF\",\n              style: { color: \"rgba(229,231,235,0.85)\" },\n              y: 12,\n            },\n            zIndex: 5,\n          },\n        ],\n      },\n      series: [\n        {\n          id: \"p3\",\n          type: \"line\" as const,\n          name: \"Price\",\n          data: price,\n        },\n        {\n          id: \"events3\",\n          type: \"flags\" as const,\n          onSeries: \"p3\",\n          shape: \"flag\",\n          data: eventFlags,\n        },\n        {\n          id: \"scenarioBand\",\n          type: \"arearange\" as const,\n          name: \"Scenario Band\",\n          data: band,\n          color: \"rgba(99,102,241,0.3)\",\n          fillOpacity: 0.2,\n        },\n        {\n          id: \"decisions\",\n          type: \"flags\" as const,\n          onSeries: \"p3\",\n          shape: \"circlepin\",\n          data: decisionFlags,\n        },\n      ],\n    }),\n    [price, eventFlags, band, decisionFlags, lastX]\n  );\n\n  const jumpToNow = useCallback(() => {\n    const chart = chartRef.current?.chart;\n    if (chart) {\n      chart.xAxis[0].setExtremes(lastX - 60 * DAY, lastX + 120 * DAY);\n    }\n  }, [lastX]);\n\n  const resetZoom = useCallback(() => {\n    const chart = chartRef.current?.chart;\n    if (chart) chart.xAxis[0].setExtremes(undefined, undefined);\n  }, []);\n\n  // After chart renders, set initial zoom to scenario view\n  const afterChartCreated = useCallback(\n    (chart: Highcharts.Chart) => {\n      chart.xAxis[0].setExtremes(lastX - 60 * DAY, lastX + 120 * DAY);\n    },\n    [lastX]\n  );\n\n  return (\n    <div className=\"card mt-3\">\n      <h2 className=\"text-sm font-bold my-1 mb-2.5\">\n        3){\" \"}\n        <span className=\"font-bold\">미래 시점</span> 시나리오 밴드 + 팀\n        판단(Decision) 히스토리 (메모 입력)\n      </h2>\n      <Toolbar>\n        <Chip>시나리오:</Chip>\n        <Select\n          value={scenario}\n          onChange={(v) => onScenarioChange(v as Scenario)}\n        >\n          <option value=\"BASE\">BASE (중립)</option>\n          <option value=\"BULL\">BULL (상방)</option>\n          <option value=\"BEAR\">BEAR (하방)</option>\n        </Select>\n        <Button onClick={jumpToNow}>현재/미래 보기</Button>\n        <Button onClick={onAddDecision}>판단 로그 추가 (메모)</Button>\n        <Button onClick={resetZoom}>줌 리셋</Button>\n      </Toolbar>\n      <div className=\"h-[420px]\">\n        <HighchartsReact\n          highcharts={Highcharts}\n          constructorType=\"stockChart\"\n          options={options}\n          ref={chartRef}\n          containerProps={{ style: { height: \"100%\" } }}\n          callback={afterChartCreated}\n        />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}