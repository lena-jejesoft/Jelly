(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,22393,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(3280),l=e.i(36117),a=e.i(16148),i=e.i(62243);function c(e,t,r=!1,s){return{...r?{chart:{spacing:[5,5,15,5]}}:{rangeSelector:{enabled:!1},navigator:{enabled:!1,height:0},scrollbar:{enabled:!1,height:0}},credits:{enabled:!r},legend:{enabled:!r},tooltip:{shared:!0},xAxis:{type:"datetime"},yAxis:{tickPixelInterval:30,...s&&{min:s.min,max:s.max}},series:[{id:"cmpPrice",type:"line",name:"Price",marker:{enabled:!1},data:e},{id:"cmpEvent",type:"flags",onSeries:"cmpPrice",shape:"circlepin",data:t?[t]:[]}]}}function d({selectedEvent:e,price:d,onReset:o,compact:x=!1,priceRange:h}){let[m,p]=(0,r.useState)(30),{beforeData:u,afterData:f,flag:g}=(0,r.useMemo)(()=>{if(!e)return{beforeData:[],afterData:[],flag:null};let t=e.x;return{beforeData:(0,a.sliceByRange)(d,t-m*a.DAY,t),afterData:(0,a.sliceByRange)(d,t,t+m*a.DAY),flag:{x:t,title:e.title,text:e.desc}}},[e,d,m]),b=(0,r.useMemo)(()=>c(u,g,x,h),[u,g,x,h]),j=(0,r.useMemo)(()=>c(f,g,x,h),[f,g,x,h]),v=(0,r.useMemo)(()=>{if(!e)return{event:"-",before:"-",after:"-",vol:"-"};let t=u[0]?.[1],r=u[u.length-1]?.[1],s=f[0]?.[1],l=f[f.length-1]?.[1],i=(0,a.volApprox)(f);return{event:`${a.EVENT_TYPES[e.type].name} / ${e.text}`,before:(0,a.fmtPct)((0,a.pct)(t,r)),after:(0,a.fmtPct)((0,a.pct)(s,l)),vol:null==i?"-":i.toFixed(2)+"%"}},[e,u,f]),y=e?`Before: D-${m} ~ D (${e.text})`:"Before (선택 전)",N=e?`After: D ~ D+${m} (${e.text})`:"After (선택 전)";return x?(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("h3",{className:"text-xs font-semibold text-gray-300",children:"Before / After 비교"}),[30,60].map(e=>(0,t.jsxs)("button",{onClick:()=>p(e),className:`text-[11px] px-2 py-0.5 rounded-full border ${m===e?"border-blue-500 text-blue-400 bg-blue-500/10":"border-gray-700 text-gray-500 hover:text-gray-300"}`,children:[e,"일"]},e))]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Chip,{children:y}),(0,t.jsx)("div",{className:"h-[200px] mt-1",children:(0,t.jsx)(s.default,{highcharts:l.default,constructorType:"chart",options:b,containerProps:{style:{height:"100%"}}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Chip,{children:N}),(0,t.jsx)("div",{className:"h-[200px] mt-1",children:(0,t.jsx)(s.default,{highcharts:l.default,constructorType:"chart",options:j,containerProps:{style:{height:"100%"}}})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-1.5 mt-2",children:[(0,t.jsx)(n,{label:"선택 이벤트",value:v.event}),(0,t.jsx)(n,{label:"Before 수익률",value:v.before}),(0,t.jsx)(n,{label:"After 수익률",value:v.after}),(0,t.jsx)(n,{label:"After 변동성(대략)",value:v.vol})]})]}):(0,t.jsxs)("div",{className:"card mt-3",children:[(0,t.jsx)("h2",{className:"text-sm font-bold my-1 mb-2.5",children:"2) 이벤트 클릭 → Before / After 자동 비교"}),(0,t.jsxs)(i.Toolbar,{children:[(0,t.jsx)(i.Chip,{children:"클릭한 이벤트 기준"}),(0,t.jsxs)(i.Chip,{children:["D-",m,"~D"]}),(0,t.jsxs)(i.Chip,{children:["D~D+",m]}),[30,60].map(e=>(0,t.jsxs)("button",{onClick:()=>p(e),className:`text-[11px] px-2 py-0.5 rounded-full border ${m===e?"border-blue-500 text-blue-400 bg-blue-500/10":"border-gray-700 text-gray-500 hover:text-gray-300"}`,children:[e,"일"]},e)),(0,t.jsx)(i.Button,{onClick:o,children:"선택 해제"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Chip,{children:y}),(0,t.jsx)("div",{className:"h-[360px] mt-2",children:(0,t.jsx)(s.default,{highcharts:l.default,constructorType:"stockChart",options:b,containerProps:{style:{height:"100%"}}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Chip,{children:N}),(0,t.jsx)("div",{className:"h-[360px] mt-2",children:(0,t.jsx)(s.default,{highcharts:l.default,constructorType:"stockChart",options:j,containerProps:{style:{height:"100%"}}})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2.5",children:[(0,t.jsx)(n,{label:"선택 이벤트",value:v.event}),(0,t.jsx)(n,{label:"Before 수익률",value:v.before}),(0,t.jsx)(n,{label:"After 수익률",value:v.after}),(0,t.jsx)(n,{label:"After 변동성(대략)",value:v.vol})]}),(0,t.jsx)("p",{className:"text-gray-500 text-xs mt-2 leading-relaxed",children:"이벤트 클릭 → 전후 구간을 자동으로 잘라 비교합니다."})]})}function n({label:e,value:r}){return(0,t.jsxs)("div",{className:"border border-gray-800 rounded-xl p-2 bg-black/15",children:[(0,t.jsx)("div",{className:"text-[11px] text-gray-500",children:e}),(0,t.jsx)("div",{className:"text-[13px] font-bold mt-0.5",children:r})]})}e.s(["default",()=>d])},16111,e=>{e.n(e.i(22393))}]);