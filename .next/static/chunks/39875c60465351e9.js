(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61215,e=>{"use strict";var l=e.i(43476),t=e.i(71645),i=e.i(3280),n=e.i(36117),a=e.i(16148),s=e.i(62243);function o({price:e,events:o,filterType:r,filterImpact:c,onFilterTypeChange:d,onFilterImpactChange:x,onEventClick:h,scenario:u,decisions:p,onScenarioChange:v,onAddDecision:j}){let b=(0,t.useRef)(null),m=e[e.length-1][0],A=(0,t.useMemo)(()=>o.filter(e=>{let l="ALL"===r||e.type===r,t=e.impact>=c;return l&&t}).map(e=>({x:e.x,title:e.title,text:e.desc})),[o,r,c]),g=(0,t.useCallback)(function(){let e=this,l=o.find(l=>l.x===e.x&&l.title===e.options.title)||o.find(l=>l.x===e.x);l&&h(l)},[o,h]),{band:S}=(0,t.useMemo)(()=>(0,a.buildScenarioBands)(u,e),[u,e]),y=(0,t.useMemo)(()=>p.map(e=>({x:e.x,title:"BUY"===e.stance?"B":"SELL"===e.stance?"S":"H",text:`<b>${e.title}</b><br/>${e.note}<br/><span style="opacity:.85">by ${e.who} • ${e.stance}</span>`})),[p]),f=(0,t.useMemo)(()=>({rangeSelector:{enabled:!0},tooltip:{shared:!0},xAxis:{plotLines:[{value:m,width:2,color:"rgba(255,255,255,0.35)",dashStyle:"ShortDash",label:{text:"AS-OF",style:{color:"rgba(229,231,235,0.85)"},y:12},zIndex:5}]},series:[{id:"price",name:"Price",type:"line",data:e},{id:"eventsFlags",type:"flags",name:"Events",onSeries:"price",shape:"flag",data:A,allowOverlapX:!0,zIndex:6,y:-30,point:{events:{click:g}}},{id:"scenarioBand",type:"arearange",name:"Scenario Band",data:S,color:"rgba(99,102,241,0.55)",fillOpacity:.35},{id:"decisions",type:"flags",onSeries:"price",shape:"circlepin",name:"Decisions",data:y,allowOverlapX:!0,zIndex:5,y:-65}]}),[e,A,g,S,y,m]),C=(0,t.useCallback)(()=>{let e=b.current?.chart;e&&e.xAxis[0].setExtremes(m-60*a.DAY,m+120*a.DAY)},[m]),B=(0,t.useCallback)(()=>{let e=b.current?.chart;e&&e.xAxis[0].setExtremes(void 0,void 0)},[]),E=(0,t.useCallback)(e=>{e.xAxis[0].setExtremes(m-60*a.DAY,m+120*a.DAY)},[m]);return(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("h2",{className:"text-gray-100 text-2xl font-bold mb-5",children:"Price & Event Timeline"}),(0,l.jsxs)(s.Toolbar,{children:[(0,l.jsxs)(s.ControlGroup,{label:"이벤트",children:[(0,l.jsxs)(s.Select,{value:r,onChange:d,children:[(0,l.jsx)("option",{value:"ALL",children:"전체"}),(0,l.jsx)("option",{value:"EARNINGS",children:"실적"}),(0,l.jsx)("option",{value:"FUNDING",children:"증자/자금조달"}),(0,l.jsx)("option",{value:"CONTRACT",children:"수주/계약"}),(0,l.jsx)("option",{value:"REGULATION",children:"규제/정책"}),(0,l.jsx)("option",{value:"INSIDER",children:"오너/지배구조"})]}),(0,l.jsxs)(s.Select,{value:String(c),onChange:e=>x(Number(e)),children:[(0,l.jsx)("option",{value:"0",children:"강도 0+"}),(0,l.jsx)("option",{value:"1",children:"강도 1+"}),(0,l.jsx)("option",{value:"2",children:"강도 2+"}),(0,l.jsx)("option",{value:"3",children:"강도 3+"})]})]}),(0,l.jsxs)(s.ControlGroup,{label:"시나리오",children:[(0,l.jsxs)(s.Select,{value:u,onChange:e=>v(e),children:[(0,l.jsx)("option",{value:"BASE",children:"BASE (중립)"}),(0,l.jsx)("option",{value:"BULL",children:"BULL (상방)"}),(0,l.jsx)("option",{value:"BEAR",children:"BEAR (하방)"})]}),(0,l.jsx)(s.Button,{onClick:C,children:"현재/미래"}),(0,l.jsx)(s.Button,{onClick:j,children:"판단 로그 추가 (메모)"})]}),(0,l.jsx)(s.Button,{onClick:B,children:"줌 리셋"})]}),(0,l.jsx)("div",{className:"h-full",children:(0,l.jsx)(i.default,{highcharts:n.default,constructorType:"stockChart",options:f,ref:b,containerProps:{style:{height:"100%"}},callback:E})})]})}e.s(["default",()=>o])},37932,e=>{e.n(e.i(61215))}]);