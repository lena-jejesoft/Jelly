(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,22393,e=>{"use strict";var t=e.i(43476),r=e.i(71645),l=e.i(3280),s=e.i(36117),i=e.i(16148),a=e.i(62243);function n(e,t,r){return{credits:{enabled:!0},legend:{enabled:!0},tooltip:{shared:!0},xAxis:{type:"datetime"},yAxis:{tickPixelInterval:30,...r&&{min:r.min,max:r.max}},series:[{id:"cmpPrice",type:"line",name:"Price",marker:{enabled:!1},data:e},{id:"cmpEvent",type:"flags",onSeries:"cmpPrice",shape:"circlepin",data:t?[t]:[]}]}}function c({selectedEvent:e,price:c,onReset:o,priceRange:x}){let[h,m]=(0,r.useState)(30),{beforeData:u,afterData:f,flag:p}=(0,r.useMemo)(()=>{if(!e)return{beforeData:[],afterData:[],flag:null};let t=e.x;return{beforeData:(0,i.sliceByRange)(c,t-h*i.DAY,t),afterData:(0,i.sliceByRange)(c,t,t+h*i.DAY),flag:{x:t,title:e.title,text:e.desc}}},[e,c,h]),b=(0,r.useMemo)(()=>n(u,p,x),[u,p,x]),g=(0,r.useMemo)(()=>n(f,p,x),[f,p,x]),j=(0,r.useMemo)(()=>{if(!e)return{event:"-",before:"-",after:"-",vol:"-"};let t=u[0]?.[1],r=u[u.length-1]?.[1],l=f[0]?.[1],s=f[f.length-1]?.[1],a=(0,i.volApprox)(f);return{event:`${i.EVENT_TYPES[e.type].name} / ${e.text}`,before:(0,i.fmtPct)((0,i.pct)(t,r)),after:(0,i.fmtPct)((0,i.pct)(l,s)),vol:null==a?"-":a.toFixed(2)+"%"}},[e,u,f]),v=e?`Before: D-${h} ~ D (${e.text})`:"Before (선택 전)",y=e?`After: D ~ D+${h} (${e.text})`:"After (선택 전)";return(0,t.jsxs)("div",{className:"card mt-3",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold text-gray-200 my-1 mb-2.5",children:"Before / After 비교"}),(0,t.jsxs)(a.Toolbar,{children:[(0,t.jsx)(a.Chip,{children:"클릭한 이벤트 기준"}),(0,t.jsxs)(a.Chip,{children:["D-",h,"~D"]}),(0,t.jsxs)(a.Chip,{children:["D~D+",h]}),[30,60].map(e=>(0,t.jsxs)("button",{onClick:()=>m(e),className:`text-[11px] px-2 py-0.5 rounded-full border ${h===e?"border-blue-500 text-blue-400 bg-blue-500/10":"border-gray-700 text-gray-500 hover:text-gray-300"}`,children:[e,"일"]},e)),(0,t.jsx)(a.Button,{onClick:o,children:"선택 해제"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(a.Chip,{children:v}),(0,t.jsx)("div",{className:"h-[360px] mt-2",children:(0,t.jsx)(l.default,{highcharts:s.default,constructorType:"chart",options:b,containerProps:{style:{height:"100%"}}},`before-${e?.id}`)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.Chip,{children:y}),(0,t.jsx)("div",{className:"h-[360px] mt-2",children:(0,t.jsx)(l.default,{highcharts:s.default,constructorType:"chart",options:g,containerProps:{style:{height:"100%"}}},`after-${e?.id}`)})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2.5",children:[(0,t.jsx)(d,{label:"선택 이벤트",value:j.event}),(0,t.jsx)(d,{label:"Before 수익률",value:j.before}),(0,t.jsx)(d,{label:"After 수익률",value:j.after}),(0,t.jsx)(d,{label:"After 변동성(대략)",value:j.vol})]}),(0,t.jsx)("p",{className:"text-gray-500 text-xs mt-2 leading-relaxed",children:"이벤트 클릭 → 전후 구간을 자동으로 잘라 비교합니다."})]})}function d({label:e,value:r}){return(0,t.jsxs)("div",{className:"border border-gray-800 rounded-xl p-2 bg-black/15",children:[(0,t.jsx)("div",{className:"text-[11px] text-gray-500",children:e}),(0,t.jsx)("div",{className:"text-[13px] font-bold mt-0.5",children:r})]})}e.s(["default",()=>c])},16111,e=>{e.n(e.i(22393))}]);