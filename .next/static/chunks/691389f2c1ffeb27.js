(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,22393,e=>{"use strict";var t=e.i(43476),r=e.i(71645),l=e.i(3280),s=e.i(36117),i=e.i(16148),a=e.i(62243);function c(e,t){return{rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},tooltip:{shared:!0},series:[{id:"cmpPrice",type:"line",name:"Price",data:e},{id:"cmpEvent",type:"flags",onSeries:"cmpPrice",shape:"circlepin",data:t?[t]:[]}]}}function n({selectedEvent:e,price:n,onReset:d}){let{beforeData:h,afterData:x,flag:f}=(0,r.useMemo)(()=>{if(!e)return{beforeData:[],afterData:[],flag:null};let t=e.x;return{beforeData:(0,i.sliceByRange)(n,t-30*i.DAY,t),afterData:(0,i.sliceByRange)(n,t,t+60*i.DAY),flag:{x:t,title:e.title,text:e.desc}}},[e,n]),p=(0,r.useMemo)(()=>c(h,f),[h,f]),m=(0,r.useMemo)(()=>c(x,f),[x,f]),u=(0,r.useMemo)(()=>{if(!e)return{event:"-",before:"-",after:"-",vol:"-"};let t=h[0]?.[1],r=h[h.length-1]?.[1],l=x[0]?.[1],s=x[x.length-1]?.[1],a=(0,i.volApprox)(x);return{event:`${i.EVENT_TYPES[e.type].name} / ${e.text}`,before:(0,i.fmtPct)((0,i.pct)(t,r)),after:(0,i.fmtPct)((0,i.pct)(l,s)),vol:null==a?"-":a.toFixed(2)+"%"}},[e,h,x]),g=e?`Before: D-30 ~ D (${e.text})`:"Before (선택 전)",j=e?`After: D ~ D+60 (${e.text})`:"After (선택 전)";return(0,t.jsxs)("div",{className:"card mt-3",children:[(0,t.jsx)("h2",{className:"text-sm font-bold my-1 mb-2.5",children:"2) 이벤트 클릭 → Before / After 자동 비교"}),(0,t.jsxs)(a.Toolbar,{children:[(0,t.jsx)(a.Chip,{children:"클릭한 이벤트 기준"}),(0,t.jsx)(a.Chip,{children:"D-30~D"}),(0,t.jsx)(a.Chip,{children:"D~D+60"}),(0,t.jsx)(a.Button,{onClick:d,children:"선택 해제"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(a.Chip,{children:g}),(0,t.jsx)("div",{className:"h-[360px] mt-2",children:(0,t.jsx)(l.default,{highcharts:s.default,constructorType:"stockChart",options:p,containerProps:{style:{height:"100%"}}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.Chip,{children:j}),(0,t.jsx)("div",{className:"h-[360px] mt-2",children:(0,t.jsx)(l.default,{highcharts:s.default,constructorType:"stockChart",options:m,containerProps:{style:{height:"100%"}}})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2.5",children:[(0,t.jsx)(o,{label:"선택 이벤트",value:u.event}),(0,t.jsx)(o,{label:"Before 수익률",value:u.before}),(0,t.jsx)(o,{label:"After 수익률",value:u.after}),(0,t.jsx)(o,{label:"After 변동성(대략)",value:u.vol})]}),(0,t.jsx)("p",{className:"text-gray-500 text-xs mt-2 leading-relaxed",children:"이벤트 클릭 → 전후 구간을 자동으로 잘라 비교합니다."})]})}function o({label:e,value:r}){return(0,t.jsxs)("div",{className:"border border-gray-800 rounded-xl p-2 bg-black/15",children:[(0,t.jsx)("div",{className:"text-[11px] text-gray-500",children:e}),(0,t.jsx)("div",{className:"text-[13px] font-bold mt-0.5",children:r})]})}e.s(["default",()=>n])},16111,e=>{e.n(e.i(22393))}]);