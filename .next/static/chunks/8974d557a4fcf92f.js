(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16148,e=>{"use strict";function t(e){let t=1e4*Math.sin(e);return t-Math.floor(t)}function n(e,l,r=100){let s=[],a=r;for(let n=0;n<l;n++){let l=e+864e5*n;a=Math.max(10,a*(1+(t(13.37*n)-.48)*.018+(n%57==0?(t(7.77*n)-.5)*.12:0))),s.push([l,+a.toFixed(2)])}return s}let l={EARNINGS:{name:"실적",short:"E"},FUNDING:{name:"증자/조달",short:"F"},CONTRACT:{name:"수주/계약",short:"C"},REGULATION:{name:"규제/정책",short:"R"},INSIDER:{name:"오너/지배",short:"I"}};function r(e){let t=["EARNINGS","FUNDING","CONTRACT","REGULATION","INSIDER"],n={EARNINGS:["실적 서프라이즈","실적 부진","가이던스 상향","가이던스 하향"],FUNDING:["유상증자","CB 발행","BW 발행","자사주 소각"],CONTRACT:["대형 수주","공급 계약","파트너십","계약 해지"],REGULATION:["규제 완화","규제 강화","정책 수혜","정책 불확실"],INSIDER:["최대주주 변경","경영권 이슈","임원 매수","임원 매도"]},r={EARNINGS:["시장 예상치를 크게 상회하는 분기 실적을 발표. 매출과 영업이익 모두 컨센서스 대비 15% 이상 초과 달성하며 주가에 긍정적 영향.","시장 기대에 미치지 못하는 분기 실적 발표. 매출은 소폭 하회, 영업이익은 컨센서스 대비 20% 하회하며 투자심리 위축.","경영진이 향후 분기 실적 가이던스를 상향 조정. 수요 회복과 원가 절감 효과를 반영하여 연간 목표치도 함께 상향.","향후 분기 실적 가이던스를 하향 조정. 글로벌 수요 둔화와 원자재 가격 상승 압력으로 수익성 악화 전망."],FUNDING:["운영 자금 확보를 위한 유상증자 결정 공시. 기존 주주 희석 우려로 단기 주가 하락 압력 예상.","전환사채(CB) 발행을 통한 자금 조달 결정. 전환가액과 조건에 따라 향후 희석 가능성 존재.","신주인수권부사채(BW) 발행 결정. 조달 자금은 신규 사업 투자에 활용 예정이나 잠재 희석 리스크.","자사주 소각을 통한 주주가치 제고 결정. 유통 주식수 감소로 주당 가치 상승 효과 기대."],CONTRACT:["대규모 프로젝트 수주 확정. 계약 규모는 연매출의 약 30%에 해당하며 향후 2년간 매출 인식 예정.","주요 고객사와 장기 공급 계약 체결. 안정적 매출 기반 확보로 실적 가시성 향상.","글로벌 기업과의 전략적 파트너십 체결. 기술 협력 및 공동 마케팅을 통한 시너지 효과 기대.","주요 계약 해지 통보 수신. 해당 계약은 전체 매출의 약 15%를 차지하여 실적 영향 불가피."],REGULATION:["정부의 산업 규제 완화 발표. 진입 장벽 완화와 사업 확장 기회 확대로 수혜 전망.","새로운 산업 규제 도입 발표. 컴플라이언스 비용 증가와 사업 모델 조정 필요성 대두.","정부 정책 수혜 대상으로 선정. 세제 혜택 및 보조금 지원으로 수익성 개선 기대.","정책 방향성 불확실성 확대. 규제 환경 변화에 따른 사업 전략 재검토 필요."],INSIDER:["최대주주 지분 변동 공시. 경영권 이전 가능성에 따른 기업 전략 방향 변화 주시 필요.","경영권 분쟁 이슈 부각. 주주 간 갈등으로 의사결정 지연 및 기업가치 훼손 우려.","주요 임원의 자사주 매수 공시. 경영진의 기업가치 자신감 표현으로 긍정적 시그널.","주요 임원의 자사주 매도 공시. 대량 매도의 경우 내부 정보 활용 가능성에 대한 시장 우려."]},s={EARNINGS:[{name:"DART 분기보고서",label:"DART 전자공시"},{name:"DART 반기보고서",label:"DART 전자공시"},{name:"한국경제 기사",label:"한국경제신문"},{name:"매일경제 기사",label:"매일경제신문"}],FUNDING:[{name:"DART 주요사항보고서",label:"DART 전자공시"},{name:"DART 증권발행실적보고서",label:"DART 전자공시"},{name:"DART 주요사항보고서",label:"DART 전자공시"},{name:"DART 자기주식취득·처분결과보고서",label:"DART 전자공시"}],CONTRACT:[{name:"DART 단일판매·공급계약체결",label:"DART 전자공시"},{name:"DART 단일판매·공급계약체결",label:"DART 전자공시"},{name:"머니투데이 기사",label:"머니투데이"},{name:"DART 단일판매·공급계약해지",label:"DART 전자공시"}],REGULATION:[{name:"국가법령정보센터 고시",label:"법령정보센터"},{name:"국가법령정보센터 시행령",label:"법령정보센터"},{name:"기획재정부 보도자료",label:"기획재정부"},{name:"조선비즈 기사",label:"조선비즈"}],INSIDER:[{name:"DART 주식등의대량보유상황보고서",label:"DART 전자공시"},{name:"DART 임원·주요주주특정증권등소유상황보고서",label:"DART 전자공시"},{name:"DART 임원·주요주주특정증권등소유상황보고서",label:"DART 전자공시"},{name:"DART 임원·주요주주특정증권등소유상황보고서",label:"DART 전자공시"}]};return[25,55,90,120,150,185,210,240,275,310].map((a,o)=>{let i=Math.min(a,e.length-1),c=e[i][0],d=t[o%t.length],u=1+o%3,x=n[d][o%n[d].length],m=o%r[d].length,h=s[d][m],f=new Date(c-(1+o%3)*864e5).toISOString().slice(0,10);return{id:"EVT_"+o,x:c,type:d,impact:u,title:l[d].short,text:x,desc:`${l[d].name} • ${x} • Impact ${u}`,content:r[d][m],source:h.name,sourceDate:f}})}function s(e,t){let n=t[t.length-1][1],l=t[t.length-1][0],r=[];for(let t=0;t<=120;t++){let s=l+864e5*t,a=6e-4;"BULL"===e&&(a=.0012),"BEAR"===e&&(a=1e-4);let o=n*Math.pow(1+a,t),i="BULL"===e?.22:"BEAR"===e?.28:.25;r.push([s,+(o*(1-i)).toFixed(2),+(o*(1+i)).toFixed(2)])}return{pivot:l,band:r}}function a(e,t,n){return e.filter(e=>e[0]>=t&&e[0]<=n)}function o(e){if(e.length<3)return null;let t=[];for(let n=1;n<e.length;n++)t.push(e[n][1]/e[n-1][1]-1);let n=t.reduce((e,t)=>e+t,0)/t.length;return 100*Math.sqrt(t.reduce((e,t)=>e+(t-n)*(t-n),0)/t.length)}function i(e,t){return e&&t?(t-e)/e*100:null}function c(e){return null==e||isNaN(e)?"-":(e>=0?"+":"")+e.toFixed(2)+"%"}function d(e,t,n,l){let r=n[0],s=n[n.length-1],a=new Date(r[0]).toISOString().slice(0,10),o=new Date(s[0]).toISOString().slice(0,10),d=i(r[1],s[1]);return e.filter(e=>e.impact>=3).length,{blocks:[{id:"blk_title",type:"title",content:"SectorBook 분석 리포트",visible:!0,order:0},{id:"blk_summary",type:"summary",content:`분석 기간: ${a} ~ ${o}
시나리오: ${l}
기간 수익률: ${c(d)}

[여기에 분석 요약을 작성하세요]`,visible:!0,order:1},{id:"blk_kpi",type:"kpi",content:"",visible:!0,order:2},{id:"blk_chart",type:"chart",content:"",visible:!0,order:3},{id:"blk_events",type:"events",content:"",visible:!0,order:4},{id:"blk_decisions",type:"decisions",content:"",visible:!0,order:5}],lastModified:Date.now()}}e.s(["DAY",0,864e5,"EVENT_TYPES",0,l,"buildScenarioBands",()=>s,"createDefaultReport",()=>d,"fmtPct",()=>c,"genEvents",()=>r,"genPriceSeries",()=>n,"pct",()=>i,"sliceByRange",()=>a,"volApprox",()=>o])},62243,e=>{"use strict";var t=e.i(43476);function n({children:e}){return(0,t.jsx)("div",{className:"flex gap-[34px] flex-wrap items-center mb-2.5",children:e})}function l({children:e}){return(0,t.jsx)("span",{className:"bg-[#0b1220] border border-gray-800 rounded-full px-2.5 py-1.5 text-xs text-gray-200",children:e})}function r({value:e,onChange:n,children:l}){return(0,t.jsx)("select",{value:e,onChange:e=>n(e.target.value),className:"bg-[#0f172a] text-gray-200 border border-gray-800 rounded-[10px] px-2.5 py-2 text-xs outline-none",children:l})}function s({onClick:e,children:n}){return(0,t.jsx)("button",{onClick:e,className:"bg-[#0f172a] text-gray-200 border border-gray-800 rounded-[10px] px-2.5 py-2 text-xs cursor-pointer hover:brightness-110",children:n})}function a({label:e,children:n}){return(0,t.jsxs)("div",{className:"flex items-center gap-1.5 border border-gray-700/60 rounded-xl px-2.5 py-1",children:[(0,t.jsx)("span",{className:"text-[10px] text-gray-500 font-medium uppercase tracking-wide mr-0.5",children:e}),n]})}function o({tabs:e,activeTab:n,onTabChange:l}){return(0,t.jsx)("div",{className:"flex items-center gap-0 border-b border-gray-800 bg-[#0b0f17] shrink-0",children:e.map(e=>(0,t.jsxs)("button",{onClick:()=>l(e.key),className:`relative px-5 py-2.5 text-sm font-medium transition-colors ${n===e.key?"text-indigo-400":"text-gray-500 hover:text-gray-300"}`,children:[e.label,n===e.key&&(0,t.jsx)("span",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-indigo-500"})]},e.key))})}e.s(["Button",()=>s,"Chip",()=>l,"ControlGroup",()=>a,"Select",()=>r,"TabBar",()=>o,"Toolbar",()=>n])},67585,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let l=e.r(32061);function r({reason:e,children:t}){if("u"<typeof window)throw Object.defineProperty(new l.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,n)=>{"use strict";function l(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"encodeURIPath",{enumerable:!0,get:function(){return l}})},52157,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PreloadChunks",{enumerable:!0,get:function(){return i}});let l=e.r(43476),r=e.r(74080),s=e.r(63599),a=e.r(9885),o=e.r(43369);function i({moduleIds:e}){if("u">typeof window)return null;let t=s.workAsyncStorage.getStore();if(void 0===t)return null;let n=[];if(t.reactLoadableManifest&&e){let l=t.reactLoadableManifest;for(let t of e){if(!l[t])continue;let e=l[t].files;n.push(...e)}}if(0===n.length)return null;let i=(0,o.getDeploymentIdQueryOrEmptyString)();return(0,l.jsx)(l.Fragment,{children:n.map(e=>{let n=`${t.assetPrefix}/_next/${(0,a.encodeURIPath)(e)}${i}`;return e.endsWith(".css")?(0,l.jsx)("link",{precedence:"dynamic",href:n,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,r.preload)(n,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});let l=e.r(43476),r=e.r(71645),s=e.r(67585),a=e.r(52157);function o(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},c=function(e){let t={...i,...e},n=(0,r.lazy)(()=>t.loader().then(o)),c=t.loading;function d(e){let o=c?(0,l.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,d=i?r.Suspense:r.Fragment,u=t.ssr?(0,l.jsxs)(l.Fragment,{children:["u"<typeof window?(0,l.jsx)(a.PreloadChunks,{moduleIds:t.modules}):null,(0,l.jsx)(n,{...e})]}):(0,l.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(n,{...e})});return(0,l.jsx)(d,{...i?{fallback:o}:{},children:u})}return d.displayName="LoadableComponent",d}},70703,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r}});let l=e.r(55682)._(e.r(69093));function r(e,t){let n={};"function"==typeof e&&(n.loader=e);let r={...n,...t};return(0,l.default)({...r,modules:r.loadableGenerated?.modules})}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},52683,e=>{"use strict";var t=e.i(43476),n=e.i(71645),l=e.i(70703),r=e.i(16148);function s({onResize:e,onResizeEnd:l}){let[r,s]=(0,n.useState)(!1),a=(0,n.useCallback)(e=>{e.preventDefault(),s(!0)},[]);return(0,n.useEffect)(()=>{if(!r)return;let t=t=>{e(-t.movementX)},n=()=>{s(!1),l()};return document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),document.body.style.userSelect="none",document.body.style.cursor="col-resize",()=>{document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n),document.body.style.userSelect="",document.body.style.cursor=""}},[r,e,l]),(0,t.jsx)("div",{onMouseDown:a,className:"w-1 shrink-0 cursor-col-resize bg-gray-800 hover:bg-blue-500 transition-colors",style:r?{backgroundColor:"rgb(59,130,246)"}:void 0})}var a=e.i(62243);let o=(0,l.default)(()=>e.A(36600),{loadableGenerated:{modules:[37932]},ssr:!1}),i=(0,l.default)(()=>e.A(47502),{loadableGenerated:{modules:[16111]},ssr:!1}),c=(0,l.default)(()=>e.A(75459),{loadableGenerated:{modules:[9378]},ssr:!1}),d=Date.UTC(2024,0,2),u=[{key:"analysis",label:"Analysis"},{key:"compose",label:"리포트 작성"}];function x(){let e=(0,n.useMemo)(()=>(0,r.genPriceSeries)(d,380,120),[]),l=(0,n.useMemo)(()=>(0,r.genEvents)(e),[e]),x=(0,n.useMemo)(()=>{let t=e.map(e=>e[1]);return{min:10*Math.floor(Math.min(...t)/10),max:10*Math.ceil(Math.max(...t)/10)}},[e]),[m,h]=(0,n.useState)("ALL"),[f,b]=(0,n.useState)(2),[p,g]=(0,n.useState)(null),[y,j]=(0,n.useState)("BASE"),[v,N]=(0,n.useState)(360),R=(0,n.useCallback)(e=>{N(t=>Math.min(700,Math.max(200,t+e)))},[]),D=(0,n.useCallback)(()=>{window.dispatchEvent(new Event("resize"))},[]),[T,A]=(0,n.useState)(()=>[{x:l[3].x+2*r.DAY,title:"D1",note:"관망 → 리스크(희석) 우려",who:"PM",stance:"HOLD"},{x:l[5].x+ +r.DAY,title:"D2",note:"비중 소폭 편입 (과매도 판단)",who:"Analyst",stance:"BUY"}]),k=e[e.length-1][0],[C,S]=(0,n.useState)(!1),[E,w]=(0,n.useState)("BUY"),[I,O]=(0,n.useState)(""),[P,L]=(0,n.useState)("Team"),[M,_]=(0,n.useState)("analysis"),[B,U]=(0,n.useState)(null),G=(0,n.useCallback)(t=>{_(t),"compose"!==t||B||U((0,r.createDefaultReport)(l,T,e,y))},[B,l,T,e,y]),F=(0,n.useCallback)(()=>{w("BUY"),O(""),L("Team"),S(!0)},[]),$=(0,n.useCallback)(()=>{A(e=>{let t=e.length+1;return[...e,{x:k+(2+Math.floor(6*Math.random()))*r.DAY,title:"D"+t,note:I.trim()||"메모 없음",who:P.trim()||"Team",stance:E}]}),S(!1)},[k,I,P,E]);return(0,n.useEffect)(()=>{if(!C)return;let e=e=>{"Escape"===e.key&&S(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[C]),(0,t.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,t.jsx)(a.TabBar,{tabs:u,activeTab:M,onTabChange:G}),(0,t.jsxs)("div",{className:"flex flex-1 min-h-0",style:{display:"analysis"===M?"flex":"none"},children:[(0,t.jsx)("main",{className:"flex-1 min-w-0 overflow-hidden pl-6 pr-4 pt-6",children:(0,t.jsx)(o,{price:e,events:l,filterType:m,filterImpact:f,onFilterTypeChange:h,onFilterImpactChange:b,onEventClick:g,scenario:y,decisions:T,onScenarioChange:j,onAddDecision:F})}),(0,t.jsx)(s,{onResize:R,onResizeEnd:D}),(0,t.jsx)("aside",{className:"shrink-0 border-l border-gray-800 bg-[#0f172a] overflow-y-auto",style:{width:v},children:p?(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold text-gray-200",children:"Event Detail"}),(0,t.jsx)("button",{onClick:()=>g(null),className:"text-gray-500 hover:text-gray-300 text-xs",children:"✕"})]}),(0,t.jsxs)("dl",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-gray-500 text-xs",children:"Title"}),(0,t.jsx)("dd",{className:"text-gray-200",children:p.text})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-gray-500 text-xs",children:"Type"}),(0,t.jsx)("dd",{className:"text-gray-200",children:p.type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-gray-500 text-xs",children:"Date"}),(0,t.jsx)("dd",{className:"text-gray-200",children:new Date(p.x).toLocaleDateString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-gray-500 text-xs",children:"Impact"}),(0,t.jsx)("dd",{className:"text-gray-200",children:"★".repeat(p.impact)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-gray-500 text-xs",children:"Description"}),(0,t.jsx)("dd",{className:"text-gray-300 leading-relaxed",children:p.desc})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-gray-500 text-xs",children:"Detail"}),(0,t.jsx)("dd",{className:"text-gray-300 leading-relaxed",children:p.content})]}),(0,t.jsxs)("div",{className:"border-t border-gray-700 pt-2 mt-2",children:[(0,t.jsx)("dt",{className:"text-gray-500 text-xs",children:"출처"}),(0,t.jsx)("dd",{className:"text-gray-400 text-xs",children:p.source})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{className:"text-gray-500 text-xs",children:"출처 일자"}),(0,t.jsx)("dd",{className:"text-gray-400 text-xs",children:p.sourceDate})]})]}),(0,t.jsx)("div",{className:"border-t border-gray-700 mt-4 pt-4",children:(0,t.jsx)(i,{selectedEvent:p,price:e,onReset:()=>g(null),compact:!0,priceRange:x})})]}):(0,t.jsx)("div",{className:"p-4 text-gray-600 text-sm",children:"차트에서 이벤트를 클릭하면 상세 정보가 여기에 표시됩니다."})})]}),"compose"===M&&B&&(0,t.jsx)("div",{className:"flex-1 min-h-0",children:(0,t.jsx)(c,{price:e,events:l,decisions:T,scenario:y,priceRange:x,draft:B,onDraftChange:U})}),C&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>S(!1),children:(0,t.jsxs)("div",{className:"bg-[#1e293b] rounded-lg shadow-xl p-6 w-[360px] space-y-4",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("h3",{className:"text-gray-100 font-semibold text-base",children:"판단 로그 추가"}),(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"판단"}),(0,t.jsxs)("select",{value:E,onChange:e=>w(e.target.value),className:"mt-1 block w-full rounded bg-[#0f172a] border border-gray-700 text-gray-200 text-sm px-3 py-2 focus:outline-none focus:ring-1 focus:ring-indigo-500",children:[(0,t.jsx)("option",{value:"BUY",children:"BUY"}),(0,t.jsx)("option",{value:"HOLD",children:"HOLD"}),(0,t.jsx)("option",{value:"SELL",children:"SELL"})]})]}),(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"메모"}),(0,t.jsx)("input",{type:"text",value:I,onChange:e=>O(e.target.value),placeholder:"근거를 간단히 작성",className:"mt-1 block w-full rounded bg-[#0f172a] border border-gray-700 text-gray-200 text-sm px-3 py-2 focus:outline-none focus:ring-1 focus:ring-indigo-500"})]}),(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"작성자"}),(0,t.jsx)("input",{type:"text",value:P,onChange:e=>L(e.target.value),placeholder:"Team",className:"mt-1 block w-full rounded bg-[#0f172a] border border-gray-700 text-gray-200 text-sm px-3 py-2 focus:outline-none focus:ring-1 focus:ring-indigo-500"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,t.jsx)("button",{onClick:()=>S(!1),className:"px-4 py-1.5 rounded text-sm text-gray-400 hover:text-gray-200 hover:bg-gray-700 transition",children:"취소"}),(0,t.jsx)("button",{onClick:$,className:"px-4 py-1.5 rounded text-sm bg-indigo-600 text-white hover:bg-indigo-500 transition",children:"추가"})]})]})})]})}e.s(["default",()=>x],52683)},36600,e=>{e.v(t=>Promise.all(["static/chunks/39875c60465351e9.js","static/chunks/1c00f890fc4bcfd3.js"].map(t=>e.l(t))).then(()=>t(37932)))},47502,e=>{e.v(t=>Promise.all(["static/chunks/092fc6f0a1deb455.js","static/chunks/1c00f890fc4bcfd3.js"].map(t=>e.l(t))).then(()=>t(16111)))},75459,e=>{e.v(t=>Promise.all(["static/chunks/8ed182e7fdfd80ab.js"].map(t=>e.l(t))).then(()=>t(9378)))}]);