(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,60315,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(70703),l=e.i(16148),r=e.i(62243);let c=(0,a.default)(()=>e.A(18857),{loadableGenerated:{modules:[84675]},ssr:!1});function i({price:e,events:a,decisions:i,scenario:d,draft:o,onDraftChange:m}){let p=(0,s.useCallback)((e,t)=>{m({...o,lastModified:Date.now(),blocks:o.blocks.map(s=>s.id===e?{...s,...t}:s)})},[o,m]),h=(0,s.useCallback)(()=>{let e=Math.max(...o.blocks.map(e=>e.order),0),t={id:"blk_free_"+Date.now(),type:"freetext",content:"",visible:!0,order:e+1};m({...o,lastModified:Date.now(),blocks:[...o.blocks,t]})},[o,m]),j=[...o.blocks].sort((e,t)=>e.order-t.order),b=e[0]?.[1],u=e[e.length-1]?.[1],g=(0,l.pct)(b,u),v=a.filter(e=>e.impact>=3).length;return(0,t.jsx)("div",{className:"h-full overflow-y-auto px-8 py-6",children:(0,t.jsxs)("div",{className:"max-w-[900px] mx-auto space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h2",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide",children:"Report Composer"}),(0,t.jsx)(r.Button,{onClick:h,children:"+ 텍스트 블록 추가"})]}),j.map(s=>{if(!s.visible)return null;switch(s.type){case"title":return(0,t.jsxs)("div",{className:"report-block",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"text-[10px] text-gray-600 uppercase",children:"Title"}),(0,t.jsx)(x,{visible:s.visible,onToggle:e=>p(s.id,{visible:e})})]}),(0,t.jsx)("input",{type:"text",value:s.content,onChange:e=>p(s.id,{content:e.target.value}),className:"w-full bg-transparent border-none outline-none text-gray-100 text-2xl font-bold placeholder-gray-600",placeholder:"리포트 제목을 입력하세요"})]},s.id);case"summary":return(0,t.jsxs)("div",{className:"report-block",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"text-[10px] text-gray-600 uppercase",children:"Summary"}),(0,t.jsx)(x,{visible:s.visible,onToggle:e=>p(s.id,{visible:e})})]}),(0,t.jsx)("textarea",{value:s.content,onChange:e=>p(s.id,{content:e.target.value}),rows:6,className:"report-textarea",placeholder:"분석 요약을 작성하세요"})]},s.id);case"kpi":return(0,t.jsxs)("div",{className:"report-block",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-[10px] text-gray-600 uppercase",children:"KPI Summary"}),(0,t.jsx)(x,{visible:s.visible,onToggle:e=>p(s.id,{visible:e})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-5 gap-3 mb-3",children:[(0,t.jsx)(n,{label:"기간 수익률",value:(0,l.fmtPct)(g)}),(0,t.jsx)(n,{label:"이벤트 수",value:String(a.length)}),(0,t.jsx)(n,{label:"고임팩트",value:String(v)}),(0,t.jsx)(n,{label:"판단 건수",value:String(i.length)}),(0,t.jsx)(n,{label:"시나리오",value:d})]}),(0,t.jsx)("textarea",{value:s.content,onChange:e=>p(s.id,{content:e.target.value}),rows:2,className:"report-textarea",placeholder:"KPI에 대한 코멘트 (선택)"})]},s.id);case"chart":return(0,t.jsxs)("div",{className:"report-block",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-[10px] text-gray-600 uppercase",children:"Chart"}),(0,t.jsx)(x,{visible:s.visible,onToggle:e=>p(s.id,{visible:e})})]}),(0,t.jsx)(c,{price:e,events:a,decisions:i,scenario:d}),(0,t.jsx)("textarea",{value:s.content,onChange:e=>p(s.id,{content:e.target.value}),rows:2,className:"report-textarea mt-3",placeholder:"차트 캡션 (선택)"})]},s.id);case"events":return(0,t.jsxs)("div",{className:"report-block",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-[10px] text-gray-600 uppercase",children:"Events"}),(0,t.jsx)(x,{visible:s.visible,onToggle:e=>p(s.id,{visible:e})})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"text-gray-500 text-xs border-b border-gray-800",children:[(0,t.jsx)("th",{className:"text-left py-1.5 pr-3",children:"날짜"}),(0,t.jsx)("th",{className:"text-left py-1.5 pr-3",children:"타입"}),(0,t.jsx)("th",{className:"text-left py-1.5 pr-3",children:"제목"}),(0,t.jsx)("th",{className:"text-left py-1.5",children:"강도"})]})}),(0,t.jsx)("tbody",{children:a.map(e=>(0,t.jsxs)("tr",{className:"border-b border-gray-800/50 text-gray-300",children:[(0,t.jsx)("td",{className:"py-1.5 pr-3 text-xs text-gray-400",children:new Date(e.x).toLocaleDateString()}),(0,t.jsx)("td",{className:"py-1.5 pr-3 text-xs",children:l.EVENT_TYPES[e.type]?.name??e.type}),(0,t.jsx)("td",{className:"py-1.5 pr-3",children:e.text}),(0,t.jsx)("td",{className:"py-1.5",children:"★".repeat(e.impact)})]},e.id))})]})}),(0,t.jsx)("textarea",{value:s.content,onChange:e=>p(s.id,{content:e.target.value}),rows:2,className:"report-textarea mt-3",placeholder:"이벤트에 대한 코멘트 (선택)"})]},s.id);case"decisions":return(0,t.jsxs)("div",{className:"report-block",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-[10px] text-gray-600 uppercase",children:"Decisions"}),(0,t.jsx)(x,{visible:s.visible,onToggle:e=>p(s.id,{visible:e})})]}),0===i.length?(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"판단 로그가 없습니다."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"text-gray-500 text-xs border-b border-gray-800",children:[(0,t.jsx)("th",{className:"text-left py-1.5 pr-3",children:"날짜"}),(0,t.jsx)("th",{className:"text-left py-1.5 pr-3",children:"판단"}),(0,t.jsx)("th",{className:"text-left py-1.5 pr-3",children:"메모"}),(0,t.jsx)("th",{className:"text-left py-1.5",children:"작성자"})]})}),(0,t.jsx)("tbody",{children:i.map((e,s)=>(0,t.jsxs)("tr",{className:"border-b border-gray-800/50 text-gray-300",children:[(0,t.jsx)("td",{className:"py-1.5 pr-3 text-xs text-gray-400",children:new Date(e.x).toLocaleDateString()}),(0,t.jsx)("td",{className:"py-1.5 pr-3",children:(0,t.jsx)("span",{className:"BUY"===e.stance?"text-green-400":"SELL"===e.stance?"text-red-400":"text-yellow-400",children:e.stance})}),(0,t.jsx)("td",{className:"py-1.5 pr-3",children:e.note}),(0,t.jsx)("td",{className:"py-1.5 text-xs text-gray-400",children:e.who})]},s))})]})}),(0,t.jsx)("textarea",{value:s.content,onChange:e=>p(s.id,{content:e.target.value}),rows:2,className:"report-textarea mt-3",placeholder:"판단에 대한 코멘트 (선택)"})]},s.id);case"freetext":return(0,t.jsxs)("div",{className:"report-block",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"text-[10px] text-gray-600 uppercase",children:"Free Text"}),(0,t.jsx)(x,{visible:s.visible,onToggle:e=>p(s.id,{visible:e})})]}),(0,t.jsx)("textarea",{value:s.content,onChange:e=>p(s.id,{content:e.target.value}),rows:4,className:"report-textarea",placeholder:"자유 텍스트를 입력하세요"})]},s.id);default:return null}})]})})}function n({label:e,value:s}){return(0,t.jsxs)("div",{className:"bg-[#0f172a] border border-gray-800 rounded-lg px-3 py-2.5 text-center",children:[(0,t.jsx)("div",{className:"text-[10px] text-gray-500 mb-1",children:e}),(0,t.jsx)("div",{className:"text-sm font-semibold text-gray-200",children:s})]})}function x({visible:e,onToggle:s}){return(0,t.jsx)("button",{onClick:()=>s(!e),className:"text-[10px] text-gray-600 hover:text-gray-400 transition-colors",title:e?"블록 숨기기":"블록 보이기",children:e?"hide":"show"})}e.s(["default",()=>i])},9378,e=>{e.n(e.i(60315))},18857,e=>{e.v(t=>Promise.all(["static/chunks/fd7dd0cc81f5644a.js","static/chunks/1c00f890fc4bcfd3.js"].map(t=>e.l(t))).then(()=>t(84675)))}]);