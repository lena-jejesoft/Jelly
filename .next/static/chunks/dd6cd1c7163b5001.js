(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77559,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(3280),l=e.i(36117),i=e.i(16148),n=e.i(62243);function c({price:e,events:c,scenario:r,decisions:o,onScenarioChange:d,onAddDecision:x}){let h=(0,s.useRef)(null),p=e[e.length-1][0],{band:u}=(0,s.useMemo)(()=>(0,i.buildScenarioBands)(r,e),[r,e]),m=(0,s.useMemo)(()=>c.map(e=>({x:e.x,title:e.title,text:e.desc})),[c]),b=(0,s.useMemo)(()=>o.map(e=>({x:e.x,title:"BUY"===e.stance?"B":"SELL"===e.stance?"S":"H",text:`<b>${e.title}</b><br/>${e.note}<br/><span style="opacity:.85">by ${e.who} • ${e.stance}</span>`})),[o]),B=(0,s.useMemo)(()=>({rangeSelector:{selected:2},tooltip:{shared:!0},xAxis:{plotLines:[{value:p,width:2,color:"rgba(255,255,255,0.35)",dashStyle:"ShortDash",label:{text:"AS-OF",style:{color:"rgba(229,231,235,0.85)"},y:12},zIndex:5}]},series:[{id:"p3",type:"line",name:"Price",data:e},{id:"events3",type:"flags",onSeries:"p3",shape:"flag",data:m},{id:"scenarioBand",type:"arearange",name:"Scenario Band",data:u,color:"rgba(99,102,241,0.3)",fillOpacity:.2},{id:"decisions",type:"flags",onSeries:"p3",shape:"circlepin",data:b}]}),[e,m,u,b,p]),g=(0,s.useCallback)(()=>{let e=h.current?.chart;e&&e.xAxis[0].setExtremes(p-60*i.DAY,p+120*i.DAY)},[p]),j=(0,s.useCallback)(()=>{let e=h.current?.chart;e&&e.xAxis[0].setExtremes(void 0,void 0)},[]),y=(0,s.useCallback)(e=>{e.xAxis[0].setExtremes(p-60*i.DAY,p+120*i.DAY)},[p]);return(0,t.jsxs)("div",{className:"card mt-3",children:[(0,t.jsxs)("h2",{className:"text-sm font-bold my-1 mb-2.5",children:["3)"," ",(0,t.jsx)("span",{className:"font-bold",children:"미래 시점"})," 시나리오 밴드 + 팀 판단(Decision) 히스토리 (메모 입력)"]}),(0,t.jsxs)(n.Toolbar,{children:[(0,t.jsx)(n.Chip,{children:"시나리오:"}),(0,t.jsxs)(n.Select,{value:r,onChange:e=>d(e),children:[(0,t.jsx)("option",{value:"BASE",children:"BASE (중립)"}),(0,t.jsx)("option",{value:"BULL",children:"BULL (상방)"}),(0,t.jsx)("option",{value:"BEAR",children:"BEAR (하방)"})]}),(0,t.jsx)(n.Button,{onClick:g,children:"현재/미래 보기"}),(0,t.jsx)(n.Button,{onClick:x,children:"판단 로그 추가 (메모)"}),(0,t.jsx)(n.Button,{onClick:j,children:"줌 리셋"})]}),(0,t.jsx)("div",{className:"h-[420px]",children:(0,t.jsx)(a.default,{highcharts:l.default,constructorType:"stockChart",options:B,ref:h,containerProps:{style:{height:"100%"}},callback:y})}),(0,t.jsx)("p",{className:"text-gray-500 text-xs mt-2 leading-relaxed",children:'"판단 로그 추가"를 누르면 BUY/HOLD/SELL + 메모를 입력하고, 차트에 팀 판단 마커가 생성됩니다.'})]})}e.s(["default",()=>c])},49138,e=>{e.n(e.i(77559))}]);